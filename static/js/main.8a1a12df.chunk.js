(this["webpackJsonppocket-book"]=this["webpackJsonppocket-book"]||[]).push([[0],{42:function(e,t,n){"use strict";n.r(t);var c=n(9),a=n.n(c),i=n(10),o=n.n(i),s=new a.a({id:"money",use:"money-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="money"><defs><style></style></defs><path d="M787.67 62.75h-65.743l-210.48 375.237L298.625 62.75h-65.917l222.207 391.786H224.562v49.147h253.973V653.17H224.562v49.147h253.973v257.53h66.553v-257.53h257.045V653.17H545.088V503.683h257.045v-49.147H567.906z" /></symbol>'});o.a.add(s);t.default=s},43:function(e,t,n){"use strict";n.r(t);var c=n(9),a=n.n(c),i=n(10),o=n.n(i),s=new a.a({id:"tag",use:"tag-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="tag"><defs><style></style></defs><path d="M921.6 610.372c0 23.177-8.533 43.827-24.747 59.904l-226.577 227.09a85.333 85.333 0 01-59.904 24.234c-23.176 0-43.827-8.533-59.972-24.78L186.368 532.411c-14.336-13.995-26.146-32.427-35.601-55.091-9.42-22.597-14.234-43.828-14.234-64V221.66c0-22.97 8.636-43.348 25.19-59.937a82.944 82.944 0 0159.939-25.19H413.32c19.865 0 41.096 4.812 63.897 14.199 22.733 9.386 41.233 21.094 55.433 35.396L897.365 550.4c15.906 16.725 24.2 37.205 24.2 59.972zm-52.326 0c0-9.216-3.072-16.862-9.353-23.45l-364.305-363.86c-9.011-9.046-21.675-17.067-38.298-23.962-16.827-6.895-31.505-10.24-43.963-10.24H221.662a30.72 30.72 0 00-22.938 9.898c-6.826 6.827-9.864 13.995-9.864 22.904V413.32c0 12.765 3.31 27.306 10.206 43.827 6.895 16.554 14.984 29.15 24.098 38.058l364.339 364.68a30.31 30.31 0 0022.87 9.388c9.181 0 16.69-3.072 23.415-9.421l226.099-226.646a30.31 30.31 0 009.387-22.869zm-498.86-239.957l-.204.205a84.105 84.105 0 01-59.904 24.712c-23.21 0-43.69-8.533-60.075-24.849a82.74 82.74 0 01-24.951-60.211c0-23.108 8.533-43.588 24.883-60.075a82.74 82.74 0 0160.109-24.917c23.142 0 43.69 8.533 60.04 24.883 16.453 16.316 24.986 36.967 24.986 60.177 0 23.143-8.533 43.69-24.917 60.075zm-60.244-27.41a31.744 31.744 0 0023.347-9.727 30.583 30.583 0 009.489-22.972 30.55 30.55 0 00-9.592-23.108 30.618 30.618 0 00-23.108-9.626 30.481 30.481 0 00-23.04 9.558 30.959 30.959 0 00-9.694 23.176c0 9.284 3.004 16.555 9.626 23.074a30.55 30.55 0 0022.972 9.626z" /></symbol>'});o.a.add(s);t.default=s},44:function(e,t,n){"use strict";n.r(t);var c=n(9),a=n.n(c),i=n(10),o=n.n(i),s=new a.a({id:"chart",use:"chart-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="chart"><defs><style></style></defs><path d="M133.5 860.4v-40.9 16.2c.8 13.8 12.2 24.7 26.2 24.7h-26.2zM180 693c16 16 41.9 16 57.9 0l164.7-164.7c16-16 16-41.9 0-57.9s-41.9-16-57.9 0L180 635.1c-16 16-16 42 0 57.9zm382.3 51.4c16 16 41.9 16 57.9 0L933 431.7c16-16 16-41.9 0-57.9s-41.9-16-57.9 0L562.3 686.5c-15.9 16-15.9 41.9 0 57.9z" /><path d="M345.3 470.4c-16 16-16 41.9 0 57.9l216.3 216.3c16 16 41.9 16 57.9 0s16-41.9 0-57.9L403.3 470.4c-16-16-42-16-58 0z" /><path d="M931.2 860H133.7V130.3c0-22.6-18.3-41-41-41s-41 18.3-41 41v748c2.1 34.1 29.3 61.4 63.4 63.7h816.1c22.6 0 41-18.3 41-41s-18.4-41-41-41z" /></symbol>'});o.a.add(s);t.default=s},45:function(e,t,n){"use strict";n.r(t);var c=n(9),a=n.n(c),i=n(10),o=n.n(i),s=new a.a({id:"right",use:"right-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="right"><defs><style></style></defs><path d="M318.73 836.321a20.419 20.419 0 0028.959 0l307.2-307.2a20.46 20.46 0 000-28.958l-307.2-307.2a20.46 20.46 0 10-28.959 28.958l292.72 292.72-292.72 292.722a20.46 20.46 0 000 28.958z" /></symbol>'});o.a.add(s);t.default=s},46:function(e,t,n){"use strict";n.r(t);var c=n(9),a=n.n(c),i=n(10),o=n.n(i),s=new a.a({id:"left",use:"left-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="left"><defs><style></style></defs><path d="M705.27 187.679a20.419 20.419 0 00-28.959 0l-307.2 307.2a20.46 20.46 0 000 28.958l307.2 307.2a20.46 20.46 0 1028.959-28.958l-292.72-292.72 292.72-292.722a20.46 20.46 0 000-28.958z" /></symbol>'});o.a.add(s);t.default=s},52:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(27),o=n.n(i),s=n(12),r=n(3),l=n(2),d=l.a.button.withConfig({displayName:"Button",componentId:"sc-12vkzwk-0"})(["margin-top:24px;border:none;font-size:18px;color:#fff;background-color:#f60;padding:8px 12px;border-radius:6px;"]),h=l.a.div.withConfig({displayName:"Center",componentId:"sc-1usdcr2-0"})(["display:flex;justify-content:center;align-items:center;"]),u=n(11),b=n(19),j=n(31),x=n.n(j),p=n(0);n(42),n(43),n(44),n(45),n(46);var f=function(e){var t=e.name,n=(e.children,e.className),c=Object(b.a)(e,["name","children","className"]);return Object(p.jsx)("svg",Object(u.a)(Object(u.a)({className:x()("icon",n)},c),{},{children:Object(p.jsx)("use",{xlinkHref:"#"+t})}))},g=l.a.nav.withConfig({displayName:"Nav__NavWrapper",componentId:"sc-1b7co2s-0"})(["line-height:24px;box-shadow:0 0 3px rgb(0,0,0,0.25);> ul{display:flex;> li{flex:1;text-align:center;padding:4px;a{display:flex;flex-direction:column;justify-content:center;align-items:center;&.active{color:red;.icon{fill:red;}}.icon{width:24px;height:24px;}}}}"]),m=function(){return Object(p.jsx)(g,{children:Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:Object(p.jsxs)(s.c,{to:"/tags",activeClassName:"active",children:[Object(p.jsx)(f,{name:"tag"}),"\u6807\u7b7e\u9875"]})}),Object(p.jsx)("li",{children:Object(p.jsxs)(s.c,{to:"/money",activeClassName:"active",children:[Object(p.jsx)(f,{name:"money"}),"\u8bb0\u8d26\u9875"]})}),Object(p.jsx)("li",{children:Object(p.jsxs)(s.c,{to:"/statistics",activeClassName:"active",children:[Object(p.jsx)(f,{name:"chart"}),"\u7edf\u8ba1\u9875"]})})]})})},O=l.a.div.withConfig({displayName:"Layout__Wrapper",componentId:"qdz1z9-0"})(["height:100vh;display:flex;flex-direction:column;"]),v=l.a.div.withConfig({displayName:"Layout__Main",componentId:"qdz1z9-1"})(["flex-grow:1;flex-shrink:1;overflow:auto;"]),w=function(e){return Object(p.jsxs)(O,{children:[Object(p.jsx)(v,{className:e.className,children:e.children}),Object(p.jsx)(m,{})]})},y=n(14),k=n(5),C=parseInt(window.localStorage.getItem("tagMaxId")||"0"),N=function(){return C+=1,window.localStorage.setItem("tagMaxId",JSON.stringify(C)),C},I=function(e,t){var n=Object(c.useRef)(0);Object(c.useEffect)((function(){n.current+=1})),Object(c.useEffect)((function(){n.current>1&&e()}),[e,t])},_=function(){var e=Object(c.useState)([]),t=Object(k.a)(e,2),n=t[0],a=t[1];Object(c.useEffect)((function(){var e=JSON.parse(window.localStorage.getItem("tagList")||"[]");0===e.length&&(e=[{id:N(),name:"\u8863"},{id:N(),name:"\u98df"},{id:N(),name:"\u4f4f"},{id:N(),name:"\u884c"}]),a(e)}),[]),I((function(){window.localStorage.setItem("tagList",JSON.stringify(n))}),n);return{tags:n,setTags:a,findTag:function(e){return n.filter((function(t){return t.id===e}))[0]},addTag:function(){var e=window.prompt("\u65b0\u7684\u6807\u7b7e\u540d\u4e3a");null!==e&&""!==e&&a([].concat(Object(y.a)(n),[{id:N(),name:e}]))},updatTag:function(e,t){a(n.map((function(n){return n.id===e?{id:e,name:t}:n})))},deleteTag:function(e){a(n.filter((function(t){return t.id!==e})))}}},S=l.a.ol.withConfig({displayName:"Tags__List",componentId:"sc-9nw0nq-0"})(["background-color:#fff;> li{margin-left:16px;padding-right:16px;line-height:40px;border-bottom:1px solid #eee;> a{display:flex;justify-content:space-between;align-items:center;}> .icon{width:24px;height:24px;}}"]),z=function(){var e=_(),t=e.tags,n=e.addTag;return Object(p.jsxs)(w,{children:[Object(p.jsx)(S,{children:t.map((function(e,t){return Object(p.jsx)("li",{children:Object(p.jsxs)(s.b,{to:"/tags/".concat(e.id),children:[Object(p.jsxs)("span",{className:"one-line",children:[e.name," "]}),Object(p.jsx)(f,{name:"right"})]})},t)}))}),Object(p.jsx)(h,{children:Object(p.jsx)(d,{onClick:n,children:"\u65b0\u589e\u6807\u7b7e"})})]})},T=l.a.section.withConfig({displayName:"TagsSection__Wrapper",componentId:"cnkw77-0"})(["flex-grow:1;padding:10px;background-color:#fefefe;flex-shrink:1;overflow:auto;> ol{> li{display:inline-block;line-height:30px;background-color:#ccc;border-radius:18px;padding:0 20px;margin:10px;&.selected{background-color:#f60;}}}> button{margin:10px;border:none;color:#999;font-size:16px;border-bottom:1px solid #111;letter-spacing:1px;}"]),M=function(e){var t=_(),n=t.tags,c=t.addTag,a=e.tagIds,i=e.onChange;return Object(p.jsxs)(T,{children:[Object(p.jsx)("ol",{children:n.map((function(e){return Object(p.jsx)("li",{onClick:function(){var t;t=e.id,a.indexOf(t)>=0?i(a.filter((function(e){return e!==t}))):i([].concat(Object(y.a)(a),[t]))},className:a.indexOf(e.id)>=0?"selected":"",children:e.name},e.id)}))}),Object(p.jsx)("button",{onClick:c,children:"\u65b0\u589e\u6807\u7b7e"})]})},L=l.a.label.withConfig({displayName:"Input__InputWrapper",componentId:"n1tbnb-0"})(["display:flex;align-items:center;> .label{padding:0 20px;}> input{border:none;background-color:inherit;flex:1;height:44px;padding:5px;}"]),B=function(e){var t=e.label,n=(e.children,Object(b.a)(e,["label","children"]));return Object(p.jsxs)(L,{children:[Object(p.jsx)("div",{className:"label",children:t}),Object(p.jsx)("input",Object(u.a)({},n))]})},H=l.a.section.withConfig({displayName:"NotesSection__Wrapper",componentId:"sc-1x11pk1-0"})(["background-color:#eee;padding:8px 0;"]),W=function(e){var t=e.note,n=e.onChange;return Object(p.jsx)(H,{children:Object(p.jsx)(B,{label:"\u6807\u7b7e",placeholder:"\u8bf7\u586b\u5199\u5907\u6ce8",value:t,onChange:function(e){n(e.target.value)}})})},J=l.a.ul.withConfig({displayName:"CategorySection__CategoryUl",componentId:"muugwv-0"})(["display:flex;background-color:inherit;font-size:18px;line-height:60px;> li{flex:1;text-align:center;&.selected::after{content:'';display:block;width:100%;background-color:#333;height:2px;}}"]),D=function(e){var t={"-":"\u652f\u51fa","+":"\u6536\u5165"},n=Object(c.useState)(["-","+"]),a=Object(k.a)(n,1)[0],i=e.category,o=e.onChange;return Object(p.jsx)(J,{children:a.map((function(e){return Object(p.jsx)("li",{className:e===i?"selected":"",onClick:function(){o(e)},children:t[e]},e)}))})},E=l.a.section.withConfig({displayName:"NumberPadSection__Wrapper",componentId:"sc-1ck9l5r-0"})(["> .output{padding:0 20px;line-height:70px;text-align:right;font-size:38px;box-shadow:inset 0 -5px 5px -5px rgba(0,0,0,0.25),inset 0 5px 5px -5px rgba(0,0,0,0.25);}> .pad{> button{float:left;border:none;width:25%;height:64px;font-size:16px;&.ok{height:128px;float:right;}&.zero{width:50%;}&:nth-child(1){background:#f2f2f2;}&:nth-child(2),&:nth-child(5){background:#e0e0e0;}&:nth-child(3),&:nth-child(6),&:nth-child(9){background:#d3d3d3;}&:nth-child(4),&:nth-child(7),&:nth-child(10){background:#c1c1c1;}&:nth-child(8),&:nth-child(11),&:nth-child(13){background:#b8b8b8;}&:nth-child(12),&:nth-child(14){background:#9a9a9a;}}}"]),V=function(e){var t=e.amount,n=e.onChange,a=e.onOk,i=Object(c.useState)(t.toString()),o=Object(k.a)(i,2),s=o[0],r=o[1],l=function(e){e.length>20&&(e=e.slice(0,20)),r(e),n(parseFloat(e))};return Object(p.jsxs)(E,{children:[Object(p.jsx)("div",{className:"output",children:s}),Object(p.jsxs)("div",{className:"pad clearfloat",onClick:function(e){var t=e.target.textContent||"";if("0123456789".indexOf(t)>=0)l("0"===s?t:s+t);else switch(t){case".":s.indexOf(".")<0&&l(s+t);break;case"\u5220\u9664":l(s.slice(0,-1)||"0");break;case"\u6e05\u7a7a":l("0");break;case"OK":a()}},children:[Object(p.jsx)("button",{children:"1"}),Object(p.jsx)("button",{children:"2"}),Object(p.jsx)("button",{children:"3"}),Object(p.jsx)("button",{children:"\u5220\u9664"}),Object(p.jsx)("button",{children:"4"}),Object(p.jsx)("button",{children:"5"}),Object(p.jsx)("button",{children:"6"}),Object(p.jsx)("button",{children:"\u6e05\u7a7a"}),Object(p.jsx)("button",{children:"7"}),Object(p.jsx)("button",{children:"8"}),Object(p.jsx)("button",{children:"9"}),Object(p.jsx)("button",{className:"ok",children:"OK"}),Object(p.jsx)("button",{className:"zero",children:"0"}),Object(p.jsx)("button",{children:"."})]})]})},q=function(){var e=Object(c.useState)([]),t=Object(k.a)(e,2),n=t[0],a=t[1];Object(c.useEffect)((function(){var e=JSON.parse(window.localStorage.getItem("records")||"[]");a(e)}),[]),I((function(){window.localStorage.setItem("records",JSON.stringify(n))}),[n]);return{records:n,addRecord:function(e){a([].concat(Object(y.a)(n),[e]))}}},F=Object(l.a)(w).withConfig({displayName:"Money__MoneyLayout",componentId:"sc-1xq0v2h-0"})(["display:flex;flex-direction:column;"]),Y=l.a.div.withConfig({displayName:"Money__CategoryWrapper",componentId:"sc-1xq0v2h-1"})(["background-color:#bbb;"]),A={tagIds:[],note:"",category:"-",amount:0},P=function(){var e=Object(c.useState)(A),t=Object(k.a)(e,2),n=t[0],a=t[1],i=q().addRecord,o=function(e){a(Object(u.a)(Object(u.a)({},n),e))};return Object(p.jsxs)(F,{children:[Object(p.jsx)(M,{tagIds:n.tagIds,onChange:function(e){o({tagIds:e})}}),Object(p.jsx)(W,{note:n.note,onChange:function(e){return o({note:e})}}),Object(p.jsx)(Y,{children:Object(p.jsx)(D,{category:n.category,onChange:function(e){o({category:e})}})}),Object(p.jsx)(V,{amount:n.amount,onChange:function(e){o({amount:e})},onOk:function(){return n.amount<=0?alert("\u4e0d\u80fd\u4e3a0"):0===n.tagIds.length?alert("\u4e00\u5b9a\u8981\u9009\u6807\u7b7e"):(i(Object(u.a)(Object(u.a)({},n),{},{createdAt:(new Date).toISOString()})),alert("\u4fdd\u5b58\u6210\u529f"),void a(A))}})]})},R=n(32),K=n.n(R),U=l.a.div.withConfig({displayName:"Statistics__CategoryWrapper",componentId:"sc-1acvdua-0"})(["background-color:#fff;"]),G=l.a.h3.withConfig({displayName:"Statistics__Time",componentId:"sc-1acvdua-1"})(["font-size:18px;line-height:20px;padding:16px 16px;"]),Q=l.a.div.withConfig({displayName:"Statistics__Item",componentId:"sc-1acvdua-2"})(["background-color:#fff;font-size:18px;line-height:20px;padding:10px 16px;display:flex;justify-content:space-between;.note{color:#999;margin-left:16px;}"]),X=function(){var e=Object(c.useState)("-"),t=Object(k.a)(e,2),n=t[0],a=t[1],i=q().records,o=_().findTag,s=i.filter((function(e){return e.category===n})),r={};s.forEach((function(e){var t=K()(e.createdAt).format("YYYY\u5e74MM\u6708DD\u65e5");t in r||(r[t]=[]),r[t].push(e)}));var l=Object.entries(r).sort((function(e,t){return e[0]===t[0]?0:e[0]<t[0]?1:-1}));return Object(p.jsxs)(w,{children:[Object(p.jsx)(U,{children:Object(p.jsx)(D,{category:n,onChange:function(e){a(e)}})}),l.map((function(e,t){var n=Object(k.a)(e,2),c=n[0],a=n[1];return Object(p.jsxs)("div",{children:[Object(p.jsx)(G,{children:c}),a&&a.map((function(e){return Object(p.jsxs)(Q,{children:[Object(p.jsxs)("div",{className:"tags one-line",children:[e.tagIds.map((function(e){var t;return null===(t=o(e))||void 0===t?void 0:t.name})).join(", "),e.note&&Object(p.jsx)("span",{className:"note",children:e.note})]}),Object(p.jsx)("div",{children:"\xa5 "+e.amount})]},e.createdAt)}))]},t)}))]})};function Z(){return Object(p.jsx)("h2",{children:"\u9875\u9762\u4e0d\u5b58\u5728"})}var $=l.a.header.withConfig({displayName:"TagDetail__Header",componentId:"f4wp7x-0"})(["display:flex;line-height:24px;padding:16px;background-color:#fff;color:#777;> span{margin:0 auto;position:relative;left:-24px;}> .icon{width:24px;height:24px;}"]),ee=l.a.div.withConfig({displayName:"TagDetail__InputWrapper",componentId:"f4wp7x-1"})(["background-color:#fff;margin-top:8px;"]),te=function(){var e=Object(r.h)().id,t=_(),n=t.findTag,c=t.updatTag,a=t.deleteTag,i=n(parseInt(e)),o=Object(r.g)();return Object(p.jsxs)(w,{children:[Object(p.jsxs)($,{children:[Object(p.jsx)(f,{name:"left",onClick:function(){o.goBack()}}),Object(p.jsx)("span",{children:"\u7f16\u8f91\u6807\u7b7e"})]}),Object(p.jsx)(ee,{children:Object(p.jsx)(B,{label:"\u6807\u7b7e\u540d",value:(null===i||void 0===i?void 0:i.name)||"",placeholder:"\u6807\u7b7e\u540d",onChange:function(e){c(i.id,e.target.value)}})}),Object(p.jsx)(h,{children:Object(p.jsx)(d,{onClick:function(){a(i.id),window.history.back()},children:"\u5220\u9664\u6807\u7b7e"})})]})};function ne(){return Object(p.jsx)(s.a,{children:Object(p.jsxs)(r.d,{children:[Object(p.jsx)(r.b,{exact:!0,path:"/",children:Object(p.jsx)(r.a,{to:"/money"})}),Object(p.jsx)(r.b,{exact:!0,path:"/tags",children:Object(p.jsx)(z,{})}),Object(p.jsx)(r.b,{exact:!0,path:"/tags/:id",children:Object(p.jsx)(te,{})}),Object(p.jsx)(r.b,{exact:!0,path:"/money",children:Object(p.jsx)(P,{})}),Object(p.jsx)(r.b,{exact:!0,path:"/statistics",children:Object(p.jsx)(X,{})}),Object(p.jsx)(r.b,{path:"*",children:Object(p.jsx)(Z,{})})]})})}var ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,54)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),i(e),o(e)}))};n(52);o.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(ne,{})}),document.getElementById("root")),ce()}},[[53,1,2]]]);
//# sourceMappingURL=main.8a1a12df.chunk.js.map